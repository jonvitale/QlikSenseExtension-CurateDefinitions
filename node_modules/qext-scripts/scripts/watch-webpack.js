var Rx = require('rxjs');

module.exports = function(object) {
  return Rx.Observable.create(observer => {
    object.compiler.watch({}, (err, stats) => {
      console.log("[webpack:build]", stats != null ? stats.toString({ colors: true }) : 'stats not loaded');
      observer.next(object.extensionName);
    })
  })
}