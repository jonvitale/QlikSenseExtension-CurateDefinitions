#!/usr/bin/env node
'use strict';

var _fs = require('fs');

var _fs2 = _interopRequireDefault(_fs);

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _meow = require('meow');

var _meow2 = _interopRequireDefault(_meow);

var _chalk = require('chalk');

var _chalk2 = _interopRequireDefault(_chalk);

var _ = require('.');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const cli = (0, _meow2.default)(`
Usage:
  $ mit-license --name 'My Name'

  Outputs a LICENSE file with the supplied name and current year

Options:
  --name, -n The name to include in the LICENSE file
  --output, -o The name of the LICENSE file (default: LICENSE)
`, {
  flags: {
    name: {
      type: 'string',
      alias: 'n',
      default: ''
    },
    output: {
      type: 'string',
      alias: 'o',
      default: 'LICENSE'
    }
  }
});
/* eslint-disable no-console */

const { name, output } = cli.flags;

_fs2.default.writeFile(_path2.default.join(process.cwd(), output), (0, _2.default)({ name }), 'utf8', err => {
  if (err) {
    console.error(err);
    process.exit(1);
  } else {
    console.log(_chalk2.default.green(`Wrote license file to ${output}`));
    process.exit(0);
  }
});